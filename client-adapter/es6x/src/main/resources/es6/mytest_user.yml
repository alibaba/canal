dataSourceKey: defaultDS
destination: example
groupId: g1
outerAdapterKey: example_es6 # 为了统一，这个还是需要填的，并且需要与application.yml 中的 outerAdapters[n].key做对应

esMapping:
  _index: mytest_user
  _type: _doc
  _id: _id

  #  upsert: true
  #  pk: id

  sql: "
  select 
    a.id as _id, 
    a.name, 
    a.role_id, 
    b.role_name,
    a.c_time 
  from user a 
  left join role b on b.id=a.role_id"
  
  #  objFields:
  #    _labels: array:;
  
  etlCondition: "where a.c_time>={}"

  joinSettings:
    - tableName: user
      aliasName: a
      refColumnName: id
      # 是否为主表
      primary: true
      # 自动递增栏位名, 用于优化全量同步过程中提升MySQL查询性能
      sequenceColumnName: id

    - tableName: role
      aliasName: b
      refColumnName: role_id
      primary: false

  commitBatch: 3000
